import i,{useEffect as d,useState as p}from"../../../web_modules/react.js";import{ellipsis as c,size as f,textLighterColor as _}from"../../utils/style.js";import b from"../Field.js";import g from"../RangeSlider.js";import{TimeType as l}from"../../resource/pr-curve/index.js";import{format as S}from"../../../web_modules/d3-format.js";import{formatTime as u}from"../../utils/index.js";import m from"../../../web_modules/styled-components.js";import{useTranslation as x}from"../../../web_modules/react-i18next.js";const R=S(".2f"),v=m.div.withConfig({displayName:"StepSlider__TimeDisplay",componentId:"sc-1fl78bd-0"})(["color:",";font-size:0.857142857em;padding-left:1.666666667em;margin-bottom:0.416666667em;"],_),y=m.span.withConfig({displayName:"StepSlider__Label",componentId:"sc-1fl78bd-1"})(["display:inline-block;padding-left:1.428571429em;position:relative;"," &::before{content:'';display:block;"," background-color:",";border-radius:50%;position:absolute;left:0;top:50%;transform:translateY(-50%);}"],c(),f("0.857142857em","0.857142857em"),t=>t.color),h=m(g).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1fl78bd-2"})(["width:100%;"]),r={[l.WallTime]:"wallTimes",[l.Relative]:"relatives",[l.Step]:"steps"},j={[l.WallTime]:(t,{i18n:e})=>u(t,e.language),[l.Relative]:t=>`${R(t)} ms`,[l.Step]:(t,{t:e})=>`${e("common:time-mode.step")} ${t}`},w=({onChange:t,run:e,type:s})=>{const n=x("common"),[o,a]=p(e.index);return d(()=>a(e.index),[e.index]),i.createElement(b,{label:i.createElement(y,{color:e.colors[0],title:e.label},e.label)},i.createElement(v,null,e[r[s]][o]==null?"...":j[s](e[r[s]][o],n)),i.createElement(h,{min:0,max:e.steps.length?e.steps.length-1:0,step:1,value:o,onChange:a,onChangeComplete:()=>t==null?void 0:t(o)}))};export default w;
