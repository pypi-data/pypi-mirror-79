import m,{useCallback as d,useState as f}from"../../web_modules/react.js";import{borderColor as I,borderFocusedColor as R,rem as v,size as E,transitionProps as V}from"../utils/style.js";import{height as y,padding as k}from"./Input.js";import g from"../../web_modules/bignumberjs.js";import x from"./RangeSlider.js";import p from"../../web_modules/styled-components.js";const F=p.div.withConfig({displayName:"Slider__Wrapper",componentId:"sc-1jkwmza-0"})(["display:flex;align-items:center;"]),P=p.input.withConfig({displayName:"Slider__Input",componentId:"sc-1jkwmza-1"})(["",";line-height:",";display:inline-block;outline:none;padding:",";"," border:none;border-bottom:1px solid ",";text-align:center;&:hover,&:focus{border-bottom-color:",";}"],E(y,v(52)),y,k,V("border-color"),I,R),U=p(x).withConfig({displayName:"Slider__FullWidthRangeSlider",componentId:"sc-1jkwmza-2"})(["flex-grow:1;margin-right:",";"],v(20)),z=({onChange:r,onChangeComplete:i,value:w,min:s,max:u,step:n})=>{const o=d(e=>new g(e).dividedBy(n).integerValue(g.ROUND_HALF_UP).multipliedBy(n).toNumber(),[n]),[l,_]=f(o(w)),[N,c]=f(l+""),S=d(e=>{const t=o(e);c(t+""),_(t),r==null||r(t)},[o,r]),j=d(e=>{c(e);const t=Number.parseFloat(e);if(t<s||t>u||Number.isNaN(t))return;const a=o(t);_(a),r==null||r(a),i==null||i(a)},[r,i,s,u,o]),b=d(()=>{c(l+"")},[l]);return m.createElement(F,null,m.createElement(U,{min:s,max:u,step:n,value:l,onChange:S,onChangeComplete:()=>i==null?void 0:i(l)}),m.createElement(P,{type:"text",value:N,onChange:e=>j(e.currentTarget.value),onBlur:b,onKeyDown:e=>e.key==="Enter"&&b()}))};export default z;
