let U=t=>t,S;import e,{useCallback as f,useEffect as h,useState as g}from"../../../web_modules/react.js";import{backgroundColor as j,backgroundFocusedColor as F,css as x,ellipsis as z,em as o,primaryColor as L,rem as E,sameBorder as k,size as T,textLightColor as V,transitionProps as W,triangle as X}from"../../utils/style.js";import B from"../Field.js";import $ from"../SearchInput.js";import c from"../../../web_modules/styled-components.js";import q from"../../hooks/useSearchValue.js";import{useTranslation as G}from"../../../web_modules/react-i18next.js";const H=c(B).withConfig({displayName:"Search__SearchField",componentId:"sc-14cp3it-0"})(["margin-bottom:",";display:flex;justify-content:space-between;align-items:center;>:first-child{flex:auto;}> a:last-child{color:",";cursor:pointer;margin-left:",";flex:none;}"],E(20),L,E(10)),J=c.div.withConfig({displayName:"Search__Empty",componentId:"sc-14cp3it-1"})(["padding:"," 0;text-align:center;color:",";"],E(100),V),K=c.div.withConfig({displayName:"Search__Wrapper",componentId:"sc-14cp3it-2"})(["overflow:auto;"]),M=c.ul.withConfig({displayName:"Search__List",componentId:"sc-14cp3it-3"})(["list-style:none;margin:0;padding:0;"]),O=c.li.withConfig({displayName:"Search__Item",componentId:"sc-14cp3it-4"})(["padding:"," ",";cursor:pointer;width:100%;background-color:",";display:flex;align-items:center;"," > span{flex:auto;margin-left:",";","}&:hover{background-color:",";}"],o(10),o(12),j,W("background-color"),o(10),z(),F),y=x(S||(S=U`
    color: #979797;
    flex: none;
    width: ${0};
`),o(8)),C=c.i.withConfig({displayName:"Search__EdgeIcon",componentId:"sc-14cp3it-5"})([""," position:relative;height:",";overflow:hidden;&::before{content:'';display:block;"," background-color:currentColor;position:absolute;top:0;left:50%;transform:translateX(-50%);}&::after{content:'';display:block;"," position:absolute;top:",";left:50%;transform:translateX(-50%);}"],y,o(11),T(o(6),o(1)),X({pointingDirection:"bottom",height:o(5),width:o(7),foregroundColor:"currentColor"}),o(6)),Q=c.i.withConfig({displayName:"Search__NodeIcon",componentId:"sc-14cp3it-6"})([""," height:",";"," background-color:#f7f7f7;"],y,o(7),k({radius:o(2),color:"currentColor"})),Y=c.i.withConfig({displayName:"Search__InitializerIcon",componentId:"sc-14cp3it-7"})([""," height:",";"," background-color:#f7f7f7;"],y,o(8),k({radius:o(4),color:"currentColor"})),Z={input:C,output:C,node:Q,initializer:Y},A=({text:t,data:i,onChange:r,onSelect:s,onActive:a,onDeactive:n})=>{const{t:u}=G(["graph","common"]),[d,m]=g(t??""),[p,_]=g(!1),[b,I]=g(i.result),w=q(d);h(()=>m(t??""),[t]),h(()=>{p?r==null||r(w):I([])},[w,p,r]),h(()=>{i.text===d&&I(i.result)},[i,d]);const R=f(()=>{_(!0),a==null||a()},[a]),v=f(()=>{m(""),r==null||r(""),_(!1),n==null||n()},[r,n]),P=f(l=>{m(l.name),s==null||s(l),_(!1),n==null||n()},[s,n]);return e.createElement(e.Fragment,null,e.createElement(H,null,e.createElement($,{placeholder:u("common:search"),value:d,onChange:m,onFocus:R}),p&&e.createElement("a",{onClick:v},u("common:cancel"))),p&&(b.length?e.createElement(K,null,e.createElement(M,null,b.map(l=>{const N=Z[l.type];return e.createElement(O,{key:l.id,onClick:()=>P(l),title:l.name},e.createElement(N,null),e.createElement("span",null,l.name))}))):e.createElement(J,null,u("graph:nothing-matched"))))};export default A;
