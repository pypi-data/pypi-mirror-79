CHANGES
=======

2017.2.10
---------

* Encode special characters in CVX username and password

2017.2.9
--------

* Fix race in allocating VLAN segment
* Use show version to validate vrf support

2017.2.7
--------

* Prevent recursive check for vrf supported commands
* Update L3 plugin to handle new syntax for deprecated vrf forwarding
* Update L3 plugin to handle switches that support vrf instance
* add default branch for .gitreview
* Updated URL for upper-constraints.txt
* Add .zuul.yaml
* OpenDev Migration Patch

2017.2.6
--------

* Check CVX supported features in hpb\_supported method

2017.2.5
--------

* Ensure arista\_vlan type driver has correct network\_vlan\_range
* Update the global sync timeout when registering a region
* Check CVX features every time baremetal support is evaluated
* Use EAPI as default api\_type for OpenStack Pike
* Allow arista\_vlan type driver to startup when CVX is not reachable

2017.2.4
--------

* Do not sync DHCP reserved ports

2017.2.3
--------

* Swap spaces for underscores in VRF names
* Fix JSON API recovery from sync failure
* Delete stale dhcp instances during sync
* Remove port and release dynamic segment in baremetal case
* Increase default command timeout
* Fix permitting ICMP of all message types and all message codes
* Unconditionally setting the authentication header
* Fix DHCP port deletes during network deletes
* Ensure mech driver uses plugin context for DB access
* Ensure tox builds against stable/pike

2017.2.2
--------

* Fix shared network port synchronization support
* Backporting fix from master to pike

2017.2.1
--------

* Fix support for security groups on Port-Channels
* Throw error in Arista JSON API calls on error status code
* Updated from global requirements

2017.2.0
--------

* Handle errors in GETs gracefully
* enable trunk service plugin in devstack when using networking-arista
* modify ml2 dirver to support neutron trunk port & subport
* Updated from global requirements
* Use DEVICE\_ID\_RESERVED\_DHCP\_PORT constant defined in neutron-lib
* fix text conversion for python2/3
* Split arista\_ml2 into separate files for sync and RPC wrappers
* Removed registration of keystone authentication with CVX
* Updated from global requirements
* Bind ports using physnet provided by higher level drivers
* Updated from global requirements
* Move Sync Thread to ML2 worker process
* use service type constants from neutron\_lib plugins
* Update get\_physical\_network with the latest change to topology
* Updated from global requirements
* oslo-incubator is not used anymore
* Make the JSON API the default CVX endpoint
* Updated from global requirements
* migrate neutron.plugins.ml2.driver\_api imports to neutron\_lib
* Migrate neutron.db.api imports to neutron\_lib.db.api
* Remove usage of Neutron's MechanismDriverError
* Migrate neutron plugin constant imports to neutron-lib
* migrate imports for neutron.callbacks.\* to neutron\_lib
* Change log level from info to debug
* Add port to database with supported device\_owner
* Treat MLAG pairs as a single physical network
* Use only 'binding:host\_id' to detect port migration
* Updated from global requirements
* Updated from global requirements
* Use vnic\_type to determine whether a port is baremetal
* Updated from global requirements
* Updated from global requirements
* Handle portbindings with no local\_link\_information gracefully
* Updated from global requirements
* Fix ml2\_conf\_arista.ini installation
* Implement method for RBAC policy changes
* Add call to the directory add\_plugin method
* Updated from global requirements
* Updated from global requirements
* Flush transactions to ensure data is present in the database
* Update classifiers for Python 3 support
* Sync from global requirements
* Enable Python3.5 support
* Capture to ensure CVX error is logged
* Capture and ensure LOG.exception output
* Add cfg.CONF.import\_group() to document option dependencies
* Use identity v3 api
* oslo.config will begin to enfore types in a future version
* Add unordered list wrapper to help with validating mocked calls
* remove H302 pep8 exception
* Update get\_session() calls to get\_(reader|writer)\_session
* Provide a return\_value for get\_region\_updated\_time mock
* Add explicit check for rpc is not None
* Clear out ml2\_vlan\_allocations if CVX has no VLAN pool configured
* Remove external dependency on jsonrpclib
* Fail VLAN allocations from outside the assigned range

2017.1.0
--------

* Only send managed segments to CVX as part of port update
* Add a manage\_fabric configuration option
* Use neutron-lib portbindings api-def
* Handling dhcp port migration
* Removed unneeded segments setting in non-HPB case
* Replace jsonrpclib with jsonrpc\_requests module
* Correction for importing context module
* Stop passing sessions from mech\_arista to db\_lib
* Bump minimum requirements to match Ocata
* Fix VlanAllocation import
* LOG marker mismatch in arista\_ml2.py
* Fix for segments info in delete\_network\_segments
* Copying the config file to ml2 plugin directory
* Fix setting dynamic flag for each segment in list
* neutron-lib: use L3 constant from neutron-lib
* Change passing session to context in segments db functions
* default ARISTA\_REGION\_NAME to REGION\_NAME
* Fixed Arista VLAN type driver initialization
* Don't include openstack/common in flake8 exclude list
* Adding all config options to devstack plugin

2016.2.0
--------

* Calling delete\_network\_segments instead
* Importing db from neutron\_lib
* Fixed a bug in segment creation and deletion
* Fix regression when flat networks were created
* Fixed a bug in unplugging baremetal ports
* Adding JSON support for HPB, DVR and Baremetal
* Migrated neutron constants to neutron-lib for l3 plugin
* Redact keystone password from logs in arista\_ml2
* Remove reference to neutron.db
* use LOG.warning instead of LOG.warn
* Remove reference to neutron.i18n
* Migrate Neutron constant and exception references to neutron-lib
* Add devstack plugin support
* Move neutron include to tox.ini file
* Support of HPB in Arista Mechanism Driver
* Add support constraining requirements to match upstream
* Revert "Redact keystone password from logs in arista\_ml2"
* Redact keystone password from logs in arista\_ml2
* Fixed incorrect cli command for sync heartbeat
* Do not fail initialization when EOS not available
* Fix typo in etc/ml2\_conf\_arista.ini
* Updating L3 plugin to accomodate upstream changes
* Make feature checks abstract methods
* Fix sending the sync name
* Obscure passwords in log files
* Allow empty fields for Keystone
* Fix current\_sync\_name
* Have the ML2 plugin use EOS' OpenStack JSON API
* TrivialFix: Clean imports in code
* Temporary workaround to project id migration
* Removed cli command check in sync to fix CVX publication issue
* Enable DeprecationWarning in test environments
* Adding Ironic Support

2016.1.0
--------

* Adding DVR support
* Do not delete a network with ports attached to it
* Fixing L3 Plugin to match with upstream change
* Added the arista\_vlan type driver
* Fix L3 plugin to match with upstream
* Check that shared networks are VLAN networks before in Arista ML2
* Fixed typos in arista\_l3\_driver.py
* Fix error handling to handle invalid URL, response
* Enabling creation of unattached ports
* Ensuring that the response contains 'errors' key
* Use requests library instead of jsonrpclib

2015.2.0
--------

* Adding database migration scripts
* Use auth\_uri in when set
* Adding support for multiple EOS instances
* Supporting neutron HA
* Using 'INTERNAL-TENANT-ID' as the network owner
* Fixed HA router network cleanup
* Fix a spelling typo in error message
* Change ignore-errors to ignore\_errors
* Fix port creation on shared networks
* Removing unused dependency: discover
* Migration of Arista drivers from neutron to here
* Fixing for transition from stackforge to openstack
* Fix unit tests
* Updating pbr in requirements to reflect neutron's requirements
* Adding an API to update the host id of a VM
* Bumping the package version for Master to 2015.2
* Adding jsonrpclib to requirements.txt
* Added missing jsonrpclib dependency

2015.1.3
--------

* Moving Neutron dependency
* Arista L3 Service Plugin decomposition
* Migrate to oslo.log
* Fixes sync between Arista ML2 driver and EOS
* Updated the package version
* Moving Arista ML2 driver from neutron tree
* Fixing README.rst to point to correct repo for this project
* Initial Setup of the base project for networking-arista drivers
* Added .gitreview
